<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bridge Capacity Calculator</title>
    <script>
        function addLoadRow() {
            var table = document.getElementById("loadTableBody");
            var row = table.insertRow();

            var descCell = row.insertCell(0);
            var valueCell = row.insertCell(1);
            var typeCell = row.insertCell(2);
            var deleteCell = row.insertCell(3);

            descCell.innerHTML = '<input type="text" name="load_desc[]" required>';
            valueCell.innerHTML = '<input type="number" step="0.1" name="load_value[]" required>';
            typeCell.innerHTML = '<select name="load_type[]"><option value="dead">Dead</option><option value="live">Live</option></select>';
            deleteCell.innerHTML = '<button type="button" onclick="deleteRow(this)">X</button>';
        }

        function deleteRow(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
    </script>
</head>
<body>
    <h1>Bridge Capacity Calculator</h1>
    <form action="/calculate" method="post">
        <label>Span Length (m):</label>
        <input type="number" step="0.1" name="span_length" required>

        <label>Material:</label>
        <select name="material" required>
            <option value="Steel">Steel</option>
            <option value="Concrete">Concrete</option>
        </select>

        <label>Loading Type:</label>
        <select name="loading_type" required>
            <option value="HA">HA Loading</option>
            <option value="HB">HB Loading</option>
        </select>

        <h3>Additional Loads:</h3>
        <table border="1">
            <thead>
                <tr><th>Description</th><th>Value (kN)</th><th>Type</th><th>Action</th></tr>
            </thead>
            <tbody id="loadTableBody"></tbody>
        </table>
        <button type="button" onclick="addLoadRow()">+ Add Load</button>

        <button type="submit">Calculate</button>
    </form>
</body>
</html>
